# TGBot RSS
```
    _    _     ____            _ 
   / \  | |__ | __ ) _   _  __(_)
  / _ \ | '_ \|  _ \| | | |/ _| |
 / ___ \| |_) | |_) | |_| | (_| |
/_/   \_\_.__/|____/ \__,_|\__,_|
```

TGBot RSS 是一个基于 Telegram Bot 的 RSS 订阅工具，支持关键词过滤、多用户订阅和自定义推送格式。通过 TGBot RSS，你可以轻松获取感兴趣的 RSS 内容，并通过 Telegram 接收实时推送。

## 功能特点

- 🔍 **关键词过滤**：支持添加多个关键词，只推送包含关键词的内容
- 🚫 **屏蔽功能**：支持使用 `-关键词` 格式屏蔽不想看到的内容
- 🔄 **定时更新**：自动定期检查 RSS 源的更新
- 👥 **多用户支持**：支持多个用户订阅同一个 RSS 源
- 📊 **推送统计**：记录并显示每日推送数据
- 🖼️ **图片支持**：自动提取 RSS 内容中的图片并发送
- 🔗 **HTML 支持**：保留 Telegram 支持的 HTML 标签格式
- 🔒 **代理支持**：可配置代理服务器访问被墙的 RSS 源

### 安装步骤

配置说明：
- `BotToken`: Telegram Bot 的 API 令牌，从 @BotFather 获取
- `ADMINIDS`: 管理员用户 ID，设置为 0 表示所有用户可用
- `Cycletime`: RSS 检查周期，单位为分钟
- `Debug`: 是否开启调试模式
- `ProxyURL`: 代理服务器 URL，例如 `http://127.0.0.1:7890`
- `Pushinfo`: 额外推送接口 URL

## 使用指南

### 基本命令

- `/start` - 显示主菜单
- `/help` - 显示帮助信息

### 添加订阅

1. 在主菜单中点击 "➕ 添加订阅"
2. 按照格式输入 RSS 信息：`URL 名称 TG频道用0常规用1`
   - 例如：`https://example.com/feed 科技新闻 0`

### 添加关键词

1. 在主菜单中点击 "📝 添加关键词"
2. 输入关键词，多个关键词可用空格或逗号分隔
3. 支持以下格式：
   - 普通关键词：`科技`
   - 通配符匹配：`科技*新闻`（匹配"科技最新新闻"等）
   - 屏蔽关键词：`-广告`（屏蔽包含"广告"的内容）

### 查看和删除

- 点击 "📋 查看关键词" 或 "📰 查看订阅" 可以查看已添加的内容
- 点击 "🗑️ 删除关键词" 或 "🗑️ 删除订阅" 可以删除不需要的内容

## 数据库结构

TGBot RSS 使用 SQLite 数据库存储数据，包含以下表：

- `subscriptions`: 存储 RSS 订阅信息
- `user_keywords`: 存储用户关键词
- `feed_data`: 存储 RSS 源的最后更新时间和最新标题

## 高级功能

### 关键词匹配规则

- 支持普通文本匹配
- 支持通配符 `*` 匹配任意字符
- 支持使用 `-` 前缀屏蔽特定内容

### 自定义推送格式

TGBot RSS 支持两种推送格式：

1. 常规模式 (channel=0)：
   - 显示标题、关键词、时间和链接

2. 频道模式 (channel=1)：
   - 显示订阅名称、关键词、时间和内容
   - 如果内容包含图片，会自动提取并发送图片消息

## 常见问题

**Q: 如何获取 Telegram Bot Token?**  
A: 在 Telegram 中联系 @BotFather，按照指引创建新机器人并获取 Token。

**Q: 如何设置代理?**  
A: 在 config.json 中设置 ProxyURL 字段，例如 `"ProxyURL": "http://127.0.0.1:7890"`。

**Q: 为什么我添加了关键词但没有收到推送?**  
A: 请检查：1) RSS 源是否有更新；2) 关键词是否匹配；3) 是否有屏蔽词被触发。

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 联系方式

- 问题反馈：t.me/Pushchannl
- 项目仓库：https://github.com/IonRh/TGBot_RSS 
